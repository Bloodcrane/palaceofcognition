{"version":3,"file":"static/js/892.e8163e51.chunk.js","mappings":"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","sources":["Layouts/ArticleList.jsx","Pages/ArticlePage.jsx"],"sourcesContent":["import { useEffect, useState } from 'react';\nimport { useLocation, Link } from 'react-router-dom';\nimport { motion } from 'framer-motion';\nimport { account, databases } from '../appwrite';\nimport { ID, Query } from 'appwrite';\nimport articles from '../Articles.json';\n\nconst colors = ['#6b7a6f', '#775a5a', '#634875', '#647d94'];\nconst articlesPerPage = 3;\n\n// Placeholder Database ID - Replace with actual ID from Appwrite Console\nconst VOTES_DATABASE_ID = '697e6e0200022dd882b7';\nconst VOTES_COLLECTION_ID = 'user_votes';\n\nfunction getColorIndex(str) {\n  let hash = 0;\n  if (!str) return 0;\n  for (let i = 0; i < str.length; i++) {\n    hash += str.charCodeAt(i);\n  }\n  return hash % colors.length;\n}\n\n\nconst ArticleList = () => {\n  const location = useLocation();\n  const params = new URLSearchParams(location.search);\n  const currentPage = parseInt(params.get('page')) || 1;\n\n  const startIndex = (currentPage - 1) * articlesPerPage;\n  const endIndex = startIndex + articlesPerPage;\n  const currentArticles = articles.slice(startIndex, endIndex);\n  const totalPages = Math.ceil(articles.length / articlesPerPage);\n\n  const handlePageChange = () => {\n    window.scrollTo({ top: 0, left: 0, behavior: 'smooth' });\n  };\n\n  const [likes, setLikes] = useState({});\n  const [dislikes, setDislikes] = useState({});\n  const [user, setUser] = useState(null);\n\n  useEffect(() => {\n    const fetchUser = async () => {\n      try {\n        const user = await account.get();\n        setUser(user);\n      } catch (error) {\n        // Not logged in\n      }\n    };\n    fetchUser();\n  }, []);\n\n  // Fetch votes for current articles\n  useEffect(() => {\n    const fetchVotes = async () => {\n      if (currentArticles.length === 0) return;\n\n      const likesMap = {};\n      const dislikesMap = {};\n\n      try {\n        const promises = currentArticles.map(async (article) => {\n          const articleId = article.id.toString();\n\n          const [likesData, dislikesData] = await Promise.all([\n            databases.listDocuments(VOTES_DATABASE_ID, VOTES_COLLECTION_ID, [\n              Query.equal('post_id', articleId),\n              Query.equal('vote_type', 1),\n              Query.limit(1)\n            ]),\n            databases.listDocuments(VOTES_DATABASE_ID, VOTES_COLLECTION_ID, [\n              Query.equal('post_id', articleId),\n              Query.equal('vote_type', -1),\n              Query.limit(1)\n            ])\n          ]);\n\n          likesMap[articleId] = likesData.total;\n          dislikesMap[articleId] = dislikesData.total;\n        });\n\n        await Promise.all(promises);\n\n        setLikes(likesMap);\n        setDislikes(dislikesMap);\n\n      } catch (error) {\n        console.error(\"Error fetching votes:\", error);\n      }\n    };\n\n    fetchVotes();\n  }, [currentArticles]);\n\n\n  const handleVote = async (articleId, type) => {\n    if (!user) {\n      alert('·Éí·Éó·ÉÆ·Éù·Éï·Éó ·É®·Éî·Éò·Éß·Éï·Éê·Éú·Éî·Éó ·Éê·Éú ·É®·Éî·É•·Éõ·Éî·Éú·Éò·Éó ·Éê·Éú·Éí·Éê·É†·Éò·É®·Éò ·ÉÆ·Éõ·Éò·É° ·Éõ·Éò·É°·Éê·É™·Éî·Éõ·Éê·Éì!');\n      return;\n    }\n\n    const voteValue = type === 'like' ? 1 : -1;\n\n    try {\n      // 1. Check if user already voted\n      const existing = await databases.listDocuments(VOTES_DATABASE_ID, VOTES_COLLECTION_ID, [\n        Query.equal('post_id', articleId),\n        Query.equal('user_id', user.$id)\n      ]);\n\n      if (existing.total > 0) {\n        const docId = existing.documents[0].$id;\n        const currentVoteType = existing.documents[0].vote_type;\n\n        if (currentVoteType === voteValue) {\n          // Remove vote if clicking the same button again\n          await databases.deleteDocument(VOTES_DATABASE_ID, VOTES_COLLECTION_ID, docId);\n\n          // Update State Locally\n          if (voteValue === 1) {\n            setLikes(prev => ({ ...prev, [articleId]: Math.max(0, (prev[articleId] || 0) - 1) }));\n          } else {\n            setDislikes(prev => ({ ...prev, [articleId]: Math.max(0, (prev[articleId] || 0) - 1) }));\n          }\n\n        } else {\n          // Update vote if switching from like to dislike or vice versa\n          await databases.updateDocument(VOTES_DATABASE_ID, VOTES_COLLECTION_ID, docId, { vote_type: voteValue });\n\n          // Update State Locally\n          if (voteValue === 1) {\n            setLikes(prev => ({ ...prev, [articleId]: (prev[articleId] || 0) + 1 }));\n            setDislikes(prev => ({ ...prev, [articleId]: Math.max(0, (prev[articleId] || 0) - 1) }));\n          } else {\n            setLikes(prev => ({ ...prev, [articleId]: Math.max(0, (prev[articleId] || 0) - 1) }));\n            setDislikes(prev => ({ ...prev, [articleId]: (prev[articleId] || 0) + 1 }));\n          }\n        }\n      } else {\n        // 2. Create new vote\n        await databases.createDocument(VOTES_DATABASE_ID, VOTES_COLLECTION_ID, ID.unique(), {\n          post_id: articleId,\n          user_id: user.$id,\n          vote_type: voteValue\n        });\n\n        // Update State Locally\n        if (voteValue === 1) {\n          setLikes(prev => ({ ...prev, [articleId]: (prev[articleId] || 0) + 1 }));\n        } else {\n          setDislikes(prev => ({ ...prev, [articleId]: (prev[articleId] || 0) + 1 }));\n        }\n      }\n    } catch (error) {\n      console.error(\"Voting failed\", error);\n      alert(\"Vote failed. Please check console.\");\n    }\n  };\n\n\n  const container = {\n    hidden: { opacity: 0 },\n    show: {\n      opacity: 1,\n      transition: {\n        staggerChildren: 0.2\n      }\n    }\n  };\n\n  const item = {\n    hidden: { opacity: 0, y: 50 },\n    show: { opacity: 1, y: 0 }\n  };\n\n  return (\n    <div>\n      <motion.div\n        style={{ marginBottom: '100px' }}\n        variants={container}\n        initial=\"hidden\"\n        animate=\"show\"\n      >\n        {currentArticles.map((article) => {\n          const articleId = article.id.toString();\n          const colorIndex = getColorIndex(articleId);\n          return (\n            <motion.div\n              key={articleId}\n              variants={item}\n              className=\"webComponent\"\n              style={{\n                backgroundColor: colors[colorIndex],\n                border: `2px solid ${colors[colorIndex]}`,\n                boxShadow: `0px 0px 30px ${colors[colorIndex]}`,\n              }}\n              whileHover={{\n                scale: 1.02,\n                boxShadow: `0px 0px 50px ${colors[colorIndex]}`,\n                transition: { duration: 0.3 }\n              }}\n            >\n              <div className=\"webComponent-inside-container\">\n                <img src={article.imageUrl} alt={article.title} className=\"webComponent-image\" />\n                <h2 className=\"webComponent-title\">{article.title}</h2>\n                <label className=\"webComponent-author\">{article.author}</label>\n                <p className=\"webComponent-description\">{article.description}</p>\n                <div className=\"btnMargin\">\n                  <Link to={`/article/${articleId}`} className=\"webComponent-button\">\n                    üóûÔ∏è View More\n                  </Link>\n                  <button style={{ backgroundColor: '#5b744d', borderColor: '#86947e' }} className=\"webComponent-button\" onClick={() => handleVote(articleId, 'like')}>\n                    üíö Like {likes[articleId] || 0}\n                  </button>\n                  <button style={{ backgroundColor: '#3d2929', borderColor: '#856161' }} className=\"webComponent-button\" onClick={() => handleVote(articleId, 'dislike')}>\n                    üíî Dislike {dislikes[articleId] || 0}\n                  </button>\n                </div>\n              </div>\n            </motion.div>\n          );\n        })}\n      </motion.div>\n\n      <div\n        className=\"pagination-container\"\n        style={{ position: 'fixed', bottom: '20px', left: '50%', transform: 'translateX(-50%)', zIndex: '999' }}\n      >\n        <Link\n          to={`?page=${currentPage > 1 ? currentPage - 1 : 1}`}\n          className=\"layoutButton\"\n          disabled={currentPage === 1}\n          onClick={handlePageChange}\n        >\n          Previous\n        </Link>\n        <Link\n          to={`?page=${currentPage < totalPages ? currentPage + 1 : totalPages}`}\n          className=\"layoutButton\"\n          disabled={currentPage === totalPages}\n          onClick={handlePageChange}\n        >\n          Next\n        </Link>\n        <br />\n        <br />\n        <br />\n        <span style={{ textAlign: 'center' }}>\n          Page {currentPage} of {totalPages}\n        </span>\n      </div>\n    </div>\n  );\n};\n\nexport default ArticleList;\n","import React from 'react';\nimport ArticleList from '../Layouts/ArticleList';\n\nimport { Helmet } from 'react-helmet';\n\nconst ArticlePage = () => {\n    const Style = {\n        marginTop: \"95px\"\n    };\n\n    return (\n        <div>\n            <Helmet>\n                <meta name=\"description\" content={\"View more articles\"} />\n                <meta property=\"og:title\" content={\"Articles\"} />\n                <meta property=\"og:description\" content={\"View more articles\"} />\n            </Helmet>\n            <h1 style={Style}>·É†·Éî·É™·Éî·Éú·Éñ·Éò·Éî·Éë·Éò</h1>\n            <ArticleList />\n        </div>\n    );\n};\n\nexport default ArticlePage;\n"],"names":["colors","VOTES_DATABASE_ID","VOTES_COLLECTION_ID","ArticleList","location","useLocation","params","URLSearchParams","search","currentPage","parseInt","get","startIndex","endIndex","currentArticles","articles","slice","totalPages","Math","ceil","length","handlePageChange","window","scrollTo","top","left","behavior","likes","setLikes","useState","dislikes","setDislikes","user","setUser","useEffect","async","account","error","fetchUser","likesMap","dislikesMap","promises","map","articleId","article","id","toString","likesData","dislikesData","Promise","all","databases","listDocuments","Query","equal","limit","total","console","fetchVotes","handleVote","type","alert","voteValue","existing","$id","docId","documents","vote_type","deleteDocument","prev","max","updateDocument","createDocument","ID","unique","post_id","user_id","item","hidden","opacity","y","show","_jsxs","children","_jsx","motion","div","style","marginBottom","variants","transition","staggerChildren","initial","animate","colorIndex","str","hash","i","charCodeAt","getColorIndex","className","backgroundColor","border","concat","boxShadow","whileHover","scale","duration","src","imageUrl","alt","title","author","description","Link","to","borderColor","onClick","position","bottom","transform","zIndex","disabled","textAlign","ArticlePage","Helmet","name","content","property","marginTop"],"sourceRoot":""}