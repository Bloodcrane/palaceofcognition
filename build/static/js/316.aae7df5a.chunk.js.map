{"version":3,"file":"static/js/316.aae7df5a.chunk.js","mappings":"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","sources":["Pages/UserPage.jsx"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\nimport { account, databases, storage } from '../appwrite';\nimport { Query, ID } from 'appwrite';\nimport './UserPage.css';\nimport articles from '../Articles.json';\nimport { motion, AnimatePresence } from 'framer-motion';\n\nconst VOTES_DATABASE_ID = '697e6e0200022dd882b7';\nconst VOTES_COLLECTION_ID = 'user_votes';\nconst ARTICLES_COLLECTION_ID = 'articles'; // Matches the collection the user created\nconst IMAGES_BUCKET_ID = 'article_images'; // Matches the bucket the user created\n\nconst UserPage = ({ user }) => {\n  const [votedArticles, setVotedArticles] = useState([]);\n  const [myArticles, setMyArticles] = useState([]);\n\n  // Upload Form State\n  const [showUpload, setShowUpload] = useState(false);\n  const [title, setTitle] = useState('');\n  const [description, setDescription] = useState('');\n  const [fullText, setFullText] = useState('');\n  const [imageFile, setImageFile] = useState(null);\n  const [isUploading, setIsUploading] = useState(false);\n  const [postLimitReached, setPostLimitReached] = useState(false);\n\n  // Captcha State\n  const [captchaChallenge, setCaptchaChallenge] = useState({ a: 0, b: 0, result: 0 });\n  const [captchaInput, setCaptchaInput] = useState('');\n\n  const generateCaptcha = useCallback(() => {\n    const a = Math.floor(Math.random() * 10);\n    const b = Math.floor(Math.random() * 10);\n    setCaptchaChallenge({ a, b, result: a + b });\n    setCaptchaInput('');\n  }, []);\n\n  const fetchData = useCallback(async () => {\n    if (!user) return;\n\n    try {\n      // 1. Fetch user votes\n      const votesResponse = await databases.listDocuments(\n        VOTES_DATABASE_ID,\n        VOTES_COLLECTION_ID,\n        [\n          Query.equal('user_id', user.$id),\n          Query.orderDesc('$createdAt')\n        ]\n      );\n\n      // Map votes to local/remote articles\n      // For now, we still check JSON, but eventually we'll fetch all articles from Appwrite\n      const mappedVotes = votesResponse.documents.map(vote => {\n        const article = articles.find(a => a.id.toString() === vote.post_id);\n        if (article) {\n          return {\n            ...article,\n            voteId: vote.$id,\n            voteType: vote.vote_type,\n            votedAt: vote.$createdAt\n          };\n        }\n        return null;\n      }).filter(item => item !== null);\n\n      setVotedArticles(mappedVotes);\n\n      // 2. Fetch user's own articles\n      const articlesResponse = await databases.listDocuments(\n        VOTES_DATABASE_ID,\n        ARTICLES_COLLECTION_ID,\n        [\n          Query.equal('user_id', user.$id),\n          Query.orderDesc('$createdAt')\n        ]\n      );\n      setMyArticles(articlesResponse.documents);\n\n      // 3. Check post limit (e.g., max 3 posts per 24 hours)\n      const oneDayAgo = new Date(Date.now() - 24 * 60 * 60 * 1000).toISOString();\n      const recentPosts = articlesResponse.documents.filter(doc => doc.$createdAt > oneDayAgo);\n      if (recentPosts.length >= 3) {\n        setPostLimitReached(true);\n      } else {\n        setPostLimitReached(false);\n      }\n\n    } catch (error) {\n      console.error(\"Error fetching data:\", error);\n    }\n  }, [user]);\n\n  useEffect(() => {\n    fetchData();\n    generateCaptcha();\n  }, [fetchData, generateCaptcha]);\n\n  const handleRemoveVote = async (voteId) => {\n    try {\n      await databases.deleteDocument(VOTES_DATABASE_ID, VOTES_COLLECTION_ID, voteId);\n      setVotedArticles(prev => prev.filter(article => article.voteId !== voteId));\n    } catch (error) {\n      console.error(\"Error removing vote:\", error);\n      alert(\"Failed to remove vote.\");\n    }\n  };\n\n  const handleUpload = async (e) => {\n    e.preventDefault();\n\n    if (parseInt(captchaInput) !== captchaChallenge.result) {\n      alert(\"Captcha verification failed. Please try again.\");\n      generateCaptcha();\n      return;\n    }\n\n    if (postLimitReached) {\n      alert(\"You have reached your daily upload limit (3 articles per 24h).\");\n      return;\n    }\n\n    setIsUploading(true);\n\n    try {\n      // 1. Upload image\n      const file = await storage.createFile(IMAGES_BUCKET_ID, ID.unique(), imageFile);\n      const imageUrl = storage.getFilePreview(IMAGES_BUCKET_ID, file.$id).href;\n\n      // 2. Create article document\n      await databases.createDocument(\n        VOTES_DATABASE_ID,\n        ARTICLES_COLLECTION_ID,\n        ID.unique(),\n        {\n          title,\n          description,\n          author: user.name || user.email,\n          imageUrl,\n          fullText,\n          user_id: user.$id\n        }\n      );\n\n      alert(\"áƒ¡áƒ¢áƒáƒ¢áƒ˜áƒ áƒ¬áƒáƒ áƒ›áƒáƒ¢áƒ”áƒ‘áƒ˜áƒ— áƒáƒ˜áƒ¢áƒ•áƒ˜áƒ áƒ—áƒ!\");\n      setShowUpload(false);\n      // Reset form\n      setTitle('');\n      setDescription('');\n      setFullText('');\n      setImageFile(null);\n      fetchData(); // Refresh list\n    } catch (error) {\n      console.error(\"Upload error:\", error);\n      alert(\"Failed to upload article. Check console for details.\");\n    } finally {\n      setIsUploading(false);\n    }\n  };\n\n  const handleDeleteArticle = async (articleId, imageId) => {\n    if (!window.confirm(\"áƒ“áƒáƒ áƒ¬áƒ›áƒ£áƒœáƒ”áƒ‘áƒ£áƒšáƒ˜ áƒ®áƒáƒ áƒ—, áƒ áƒáƒ› áƒ’áƒ¡áƒ£áƒ áƒ— áƒ¡áƒ¢áƒáƒ¢áƒ˜áƒ˜áƒ¡ áƒ¬áƒáƒ¨áƒšáƒ?\")) return;\n\n    try {\n      await databases.deleteDocument(VOTES_DATABASE_ID, ARTICLES_COLLECTION_ID, articleId);\n      // Note: If you store $id of image in document, you could delete it too\n      // For simplicity, we just delete the document here\n      setMyArticles(prev => prev.filter(a => a.$id !== articleId));\n    } catch (error) {\n      console.error(\"Delete error:\", error);\n      alert(\"Failed to delete article.\");\n    }\n  };\n\n  return (\n    <div className=\"userPage\">\n      {user ? (\n        <div className=\"user-container\">\n          <div className=\"profileContainer\">\n            <div className=\"profileIcon\"></div>\n            <h2>{user.email}</h2>\n            <p>áƒ—áƒ¥áƒ•áƒ”áƒœáƒ˜ áƒáƒ áƒáƒ¤áƒ˜áƒšáƒ˜áƒ¡ áƒ’áƒ•áƒ”áƒ áƒ“áƒ˜</p>\n            <button className=\"post-toggle-btn\" onClick={() => setShowUpload(!showUpload)}>\n              {showUpload ? 'áƒ’áƒáƒ£áƒ¥áƒ›áƒ”áƒ‘áƒ' : 'áƒ¡áƒ¢áƒáƒ¢áƒ˜áƒ˜áƒ¡ áƒ“áƒáƒ›áƒáƒ¢áƒ”áƒ‘áƒ +'}\n            </button>\n          </div>\n\n          <AnimatePresence>\n            {showUpload && (\n              <motion.div\n                initial={{ opacity: 0, y: -20 }}\n                animate={{ opacity: 1, y: 0 }}\n                exit={{ opacity: 0, y: -20 }}\n                className=\"upload-section\"\n              >\n                <h3>áƒáƒ®áƒáƒšáƒ˜ áƒ¡áƒ¢áƒáƒ¢áƒ˜áƒ˜áƒ¡ áƒ’áƒáƒ›áƒáƒ¥áƒ•áƒ”áƒ§áƒœáƒ”áƒ‘áƒ</h3>\n                <form onSubmit={handleUpload} className=\"upload-form\">\n                  <input\n                    type=\"text\"\n                    placeholder=\"áƒ¡áƒáƒ—áƒáƒ£áƒ áƒ˜\"\n                    value={title}\n                    onChange={e => setTitle(e.target.value)}\n                    required\n                  />\n                  <textarea\n                    placeholder=\"áƒ›áƒáƒ™áƒšáƒ” áƒáƒ¦áƒ¬áƒ”áƒ áƒ\"\n                    value={description}\n                    onChange={e => setDescription(e.target.value)}\n                    required\n                  />\n                  <textarea\n                    placeholder=\"áƒ¡áƒ áƒ£áƒšáƒ˜ áƒ¢áƒ”áƒ¥áƒ¡áƒ¢áƒ˜\"\n                    value={fullText}\n                    onChange={e => setFullText(e.target.value)}\n                    className=\"full-text-input\"\n                    required\n                  />\n                  <div className=\"file-input-container\">\n                    <label>áƒ¡áƒ£áƒ áƒáƒ—áƒ˜áƒ¡ áƒáƒ¢áƒ•áƒ˜áƒ áƒ—áƒ•áƒ:</label>\n                    <input\n                      type=\"file\"\n                      accept=\"image/*\"\n                      onChange={e => setImageFile(e.target.files[0])}\n                      required\n                    />\n                  </div>\n\n                  <div className=\"captcha-container\">\n                    <p>áƒ“áƒáƒáƒ“áƒáƒ¡áƒ¢áƒ£áƒ áƒ”áƒ— áƒ áƒáƒ› áƒáƒ“áƒáƒ›áƒ˜áƒáƒœáƒ˜ áƒ®áƒáƒ áƒ—: {captchaChallenge.a} + {captchaChallenge.b} = ?</p>\n                    <input\n                      type=\"number\"\n                      placeholder=\"áƒáƒáƒ¡áƒ£áƒ®áƒ˜\"\n                      value={captchaInput}\n                      onChange={e => setCaptchaInput(e.target.value)}\n                      required\n                    />\n                  </div>\n\n                  <button type=\"submit\" disabled={isUploading || postLimitReached} className=\"submit-article-btn\">\n                    {isUploading ? 'áƒ˜áƒ¢áƒ•áƒ˜áƒ áƒ—áƒ”áƒ‘áƒ...' : postLimitReached ? 'áƒšáƒ˜áƒ›áƒ˜áƒ¢áƒ˜ áƒáƒ›áƒáƒ˜áƒ¬áƒ£áƒ áƒ' : 'áƒ’áƒáƒ›áƒáƒ¥áƒ•áƒ”áƒ§áƒœáƒ”áƒ‘áƒ'}\n                  </button>\n                  {postLimitReached && <p className=\"limit-warning\">áƒ“áƒ¦áƒ˜áƒ£áƒ áƒ˜ áƒšáƒ˜áƒ›áƒ˜áƒ¢áƒ˜ (3 áƒáƒáƒ¡áƒ¢áƒ˜) áƒáƒ›áƒáƒ¬áƒ£áƒ áƒ£áƒšáƒ˜áƒ.</p>}\n                </form>\n              </motion.div>\n            )}\n          </AnimatePresence>\n\n          {/* My Articles Management */}\n          <div className=\"management-section\">\n            <h3>áƒ©áƒ”áƒ›áƒ˜ áƒ’áƒáƒ›áƒáƒ¥áƒ•áƒ”áƒ§áƒœáƒ”áƒ‘áƒ£áƒšáƒ˜ áƒ¡áƒ¢áƒáƒ¢áƒ˜áƒ”áƒ‘áƒ˜</h3>\n            {myArticles.length === 0 ? (\n              <p className=\"empty-msg\">áƒ—áƒ¥áƒ•áƒ”áƒœ áƒ¯áƒ”áƒ  áƒáƒ  áƒ’áƒáƒ›áƒáƒ’áƒ˜áƒ¥áƒ•áƒ”áƒ§áƒœáƒ”áƒ‘áƒ˜áƒáƒ— áƒ¡áƒ¢áƒáƒ¢áƒ˜áƒ.</p>\n            ) : (\n              <div className=\"articles-manage-grid\">\n                {myArticles.map(article => (\n                  <div key={article.$id} className=\"manage-card\">\n                    <div className=\"manage-card-img\" style={{ backgroundImage: `url(${article.imageUrl})` }}></div>\n                    <div className=\"manage-card-info\">\n                      <h4>{article.title}</h4>\n                      <div className=\"manage-actions\">\n                        <button className=\"edit-btn\">áƒ áƒ”áƒ“áƒáƒ¥áƒ¢áƒ˜áƒ áƒ”áƒ‘áƒ</button>\n                        <button\n                          className=\"delete-btn\"\n                          onClick={() => handleDeleteArticle(article.$id)}\n                        >\n                          áƒ¬áƒáƒ¨áƒšáƒ\n                        </button>\n                      </div>\n                    </div>\n                  </div>\n                ))}\n              </div>\n            )}\n          </div>\n\n          <div className=\"history-section\">\n            <h3 className=\"section-title\">áƒ®áƒ›áƒ˜áƒ¡ áƒ›áƒ˜áƒªáƒ”áƒ›áƒ˜áƒ¡ áƒ˜áƒ¡áƒ¢áƒáƒ áƒ˜áƒ</h3>\n            {votedArticles.length === 0 ? (\n              <p className=\"empty-msg\">áƒ—áƒ¥áƒ•áƒ”áƒœ áƒ¯áƒ”áƒ  áƒáƒ  áƒ›áƒ˜áƒ’áƒ˜áƒªáƒ˜áƒáƒ— áƒ®áƒ›áƒ áƒáƒ áƒªáƒ”áƒ áƒ—áƒ˜ áƒ¡áƒ¢áƒáƒ¢áƒ˜áƒ˜áƒ¡áƒ—áƒ•áƒ˜áƒ¡.</p>\n            ) : (\n              <motion.div layout className=\"votes-grid\">\n                <AnimatePresence>\n                  {votedArticles.map((article) => (\n                    <motion.div\n                      layout\n                      initial={{ opacity: 0, scale: 0.9 }}\n                      animate={{ opacity: 1, scale: 1 }}\n                      exit={{ opacity: 0, scale: 0.9 }}\n                      key={article.voteId}\n                      className=\"vote-card\"\n                    >\n                      <div className=\"vote-card-image\" style={{ backgroundImage: `url(${article.imageUrl})` }}>\n                        <div className=\"vote-badge\" style={{ backgroundColor: article.voteType === 1 ? '#5b744d' : '#3d2929' }}>\n                          {article.voteType === 1 ? 'ğŸ’š áƒ›áƒáƒ¬áƒáƒœáƒ”áƒ‘áƒ£áƒšáƒ˜' : 'ğŸ’” áƒ“áƒáƒ¬áƒ£áƒœáƒ”áƒ‘áƒ£áƒšáƒ˜'}\n                        </div>\n                      </div>\n                      <div className=\"vote-card-content\">\n                        <h4>{article.title}</h4>\n                        <button onClick={() => handleRemoveVote(article.voteId)} className=\"remove-vote-btn\">\n                          áƒ˜áƒ¡áƒ¢áƒáƒ áƒ˜áƒ˜áƒ“áƒáƒœ áƒ¬áƒáƒ¨áƒšáƒ\n                        </button>\n                      </div>\n                    </motion.div>\n                  ))}\n                </AnimatePresence>\n              </motion.div>\n            )}\n          </div>\n        </div>\n      ) : (\n        <p>áƒ˜áƒ¢áƒ•áƒ˜áƒ áƒ—áƒ”áƒ‘áƒ...</p>\n      )}\n    </div>\n  );\n};\n\nexport default UserPage;\n\n"],"names":["VOTES_DATABASE_ID","VOTES_COLLECTION_ID","ARTICLES_COLLECTION_ID","IMAGES_BUCKET_ID","_ref","user","votedArticles","setVotedArticles","useState","myArticles","setMyArticles","showUpload","setShowUpload","title","setTitle","description","setDescription","fullText","setFullText","imageFile","setImageFile","isUploading","setIsUploading","postLimitReached","setPostLimitReached","captchaChallenge","setCaptchaChallenge","a","b","result","captchaInput","setCaptchaInput","generateCaptcha","useCallback","Math","floor","random","fetchData","async","mappedVotes","databases","listDocuments","Query","equal","$id","orderDesc","documents","map","vote","article","articles","find","id","toString","post_id","voteId","voteType","vote_type","votedAt","$createdAt","filter","item","articlesResponse","oneDayAgo","Date","now","toISOString","doc","length","error","console","useEffect","_jsx","className","children","_jsxs","email","onClick","AnimatePresence","motion","div","initial","opacity","y","animate","exit","onSubmit","e","preventDefault","parseInt","alert","file","storage","createFile","ID","unique","imageUrl","getFilePreview","href","createDocument","author","name","user_id","type","placeholder","value","onChange","target","required","accept","files","disabled","style","backgroundImage","concat","articleId","imageId","window","confirm","deleteDocument","prev","handleDeleteArticle","layout","scale","backgroundColor","handleRemoveVote"],"sourceRoot":""}